function dompath(e){var t,o,s,n,c="";for(t=0;e&&1==e.nodeType;e=e.parentNode,t++)o=0===e.childNodes.length?e.innerHTML:"",s=e.tagName.toLowerCase(),n=e.className,"html"!==s&&"body"!==s&&(c=" "+(""!==e.id?"#"+e.id:n.length>0?s+"."+n.replace(/ /g,"."):s+(o.length>0?":contains('"+o+"')":""))+c);return c}window.opener&&(window.opener.postMessage({msg:"picker",mode:"init"},"*"),window.addEventListener("message",function(e){let t=e.data.msg;"start"===e.data.mode&&"picker"===t&&$("#btn-picker").css("display","block"),console.log("Event received")},!1));let _customClasses=new Set;var flag=!1;const _picker=document.createElement("input");_picker.value="Pick",_picker.type="button",_picker.id="btn-picker",document.body.append(_picker);const picker=new ElementPicker({container:document.body,selectors:"*:not(*)",background:"rgba(153, 235, 255, 0.5)",borderWidth:5,transition:"all 150ms ease",ignoreElements:[document.body,document.getElementById("btn-picker")],action:{trigger:"click",callback:function(e){flag&&(console.log("Is this getting execurted"),_customClasses.add(dompath(e).trim()),console.log("Classed here"),console.log(_customClasses)),flag=!0}}});_picker.addEventListener("click",function(e){e.target.classList.contains("change")?(window.opener.postMessage({msg:"picker",data:Array.from(_customClasses),mode:"picked"},"*"),_customClasses.clear(),picker.selectors="*:not(*)",e.target.classList.remove("change"),flag=!1,_picker.value="Pick",$("a").css("pointer-events",""),console.log("It should not work:)")):(e.target.classList.add("change"),picker.selectors="*",console.log("It should work:)"),$("a").css("pointer-events","none"),$("body").hover(function(){this.css("cursor","pointer")}),_picker.value="Save")},!1);